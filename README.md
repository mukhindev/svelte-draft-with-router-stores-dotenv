# –ß–µ—Ä–Ω–æ–≤–∏–∫ Svelte 3

–ß–µ—Ä–Ω–æ–≤–∏–∫ **Svelte 3** —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º —Ä–æ—É—Ç–µ—Ä–æ–º –Ω–∞ –±–∞–∑–µ **Page.js**, –ø—Ä–∏–º–µ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (**Stores**), –ø—Ä–∏–º–µ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–∞ –∫ **REST API** (**JSONPlaceholder**), –ø—Ä–∏–º–µ—Ä–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–æ–≤ `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º **ESLint** (—Å—Ç–∏–ª—å **Standard**).

* Svelte ‚Äì https://ru.svelte.dev/
* Rollup ‚Äì https://rollupjs.org/guide/en/
* JSONPlaceholder ‚Äì https://jsonplaceholder.typicode.com/
* Page.js ‚Äì https://visionmedia.github.io/page.js/
* ESLint ‚Äì https://eslint.org/
* Standard JS ‚Äì https://standardjs.com/
* Dotenv ‚Äì https://github.com/motdotla/dotenv#readme


## –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ

–Ø —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª –Ω–∞ **Vue** –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –º–µ–±–µ–ª—å–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, –∫–æ–≥–¥–∞ —Ä–µ—à–∏–ª –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å **Svelte**. –°–Ω–∞—á–∞–ª–∞ —è —Ö–æ—Ç–µ–ª –≤–µ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ **Vue** –∏ **Svelte** –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–∏—Ç—å –∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤ –±–æ—é, –Ω–æ –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤—Ä–µ–º—è –ø–æ–¥–∂–∏–º–∞–ª–æ –∏ –º–Ω–µ –ø—Ä–∏—à–ª–æ—Å—å —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ —á—ë–º-—Ç–æ –æ–¥–Ω–æ–º. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Vue** –≥–æ—Ç–æ–≤–æ, –Ω–æ —Ç–µ–ø–µ—Ä—å —è –Ω–µ –≤–∏–∂—É —Å–º—ã—Å–ª–∞ –≤ –¥–æ–ø–∏—Å—ã–≤–∞–Ω–∏–∏ –µ–≥–æ –Ω–∞ **Svelte** –∏ –≤—ã–∫–ª–∞–¥—ã–≤–∞–Ω–∏–∏ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, —Ç–µ–º –±–æ–ª–µ–µ –æ–Ω–æ –∑–∞–≤—è–∑–∞–Ω–æ –Ω–∞ –Ω–µ–ø—É–±–ª–∏—á–Ω—ã–π **API**. –Ø —Ä–µ—à–∏–ª, —á—Ç–æ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–Ω–µ–µ —Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º —Ä–æ—É—Ç–µ—Ä–æ–º –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö —Å Fake REST API. –í–æ–∑–º–æ–∂–Ω–æ –≤ —ç—Ç–æ–º —á–µ—Ä–Ω–æ–≤–∏–∫–µ –≤—ã –Ω–∞–π–¥—ë—Ç–µ –ø–æ–ª–µ–∑–Ω—ã–µ –¥–ª—è —Å–µ–±—è —á–∞—Å—Ç–∏ –∫–æ–¥–∞ –∏–ª–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –ù–∏–∂–µ —è –ø–æ—Å—Ç–∞—Ä–∞–ª—Å—è –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∫–∞–∫ —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

–ü—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –¥–∞–Ω–Ω–æ–≥–æ `.md` —Ü–µ–ª–∏–∫–æ–º, –±–æ–ª—å—à–∞—è –ø—Ä–æ—Å—å–±–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ üëç.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

* **[–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)**
 ‚Äì –ß—Ç–æ –∏ –≤ –∫–∞–∫–∏—Ö –ø–∞–ø–∫–∞—Ö –ª–µ–∂–∏—Ç

* **[–†–æ—É—Ç–µ—Ä —á–µ—Ä–µ–∑ Page.js](#—Ä–æ—É—Ç–µ—Ä-—á–µ—Ä–µ–∑-pagejs)**
 ‚Äì –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ, –∑–Ω–∞—á–∏—Ç –Ω—É–∂–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–¥—Ä–µ—Å–∞ –≤ —Å—Ç—Ä–æ–∫–µ URL

* **[–ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä](#–∑–∞–ø—Ä–æ—Å—ã-–Ω–∞-—Å–µ—Ä–≤–µ—Ä)**
 ‚Äì –î–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã –∫ API

* **[–•—Ä–∞–Ω–∏–ª–∏—â–∞ (Stores)](#—Ö—Ä–∞–Ω–∏–ª–∏—â–∞-stores)**
 ‚Äì –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

* **[.env (environment variables)](#env-environment-variables)**
 ‚Äì –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ò–∑ –∫–æ—Ä–æ–±–∫–∏ **Svelte 3** –Ω–µ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞. –ú–æ–π –≤–∞—Ä–∏–∞–Ω—Ç:

```
üìÅ node_modules
üìÅ public
üìÅ src
  üìÅ pages
  üìÅ components
  üìÅ modules
  üìÅ routes
  üìÅ stores
  üóã  App.svelte
  üóã  main.js
```

`node_modules`, `public`, `src`, `App.svelte`, `main.js` –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã ‚Äì –º–∏–Ω–∏–º—É–º –∏–¥—É—â–∏–π –≤ –±–∞–∑–æ–≤–æ–º —à–∞–±–ª–æ–Ω–µ **Svelte**.

https://github.com/sveltejs/template

`üìÅpages` ‚Äì –ø–∞–ø–∫–∞ —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ `.svelte` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–º–∏ –∏–∑ —Å–µ–±—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—ã–µ —Ä–æ—É—Ç–µ—Ä–æ–º.

`üìÅcomponents` ‚Äì –ø–∞–ø–∫–∞ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ `.svelte`, –Ω–∞–ø—Ä–∏–º–µ—Ä —à–∞–ø–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ—Å—Ç–∞ –∏ —Ç.–¥.

`üìÅmodules` ‚Äì `.js` —Ñ–∞–π–ª—ã, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏ –≤—ã–Ω–µ—Å–µ–Ω–Ω—ã–µ –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è –∫–æ–¥–∞ JS –º–æ–¥—É–ª–∏.

`üìÅroutes` ‚Äì –≤–Ω—É—Ç—Ä–∏ `index.js` —Ñ–∞–π–ª —Å –º–∞—Å—Å–∏–≤–æ–º –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞. –í–æ–∑–º–æ–∂–Ω–æ —Ü–µ–ª–∞—è –ø–∞–ø–∫–∞ –∏–∑–ª–∏—à–Ω–µ–µ —Ä–µ—à–µ–Ω–∏–µ, –Ω–æ –æ—Å—Ç–∞–≤–ª—é —Ç–∞–∫, –≤–¥—Ä—É–≥ —Å–∏–ª—å–Ω–æ —Ä–∞–∑—Ä–∞—Å—Ç—ë—Ç—Å—è. –ê –µ—â—ë —ç—Ç–æ –æ—á–µ–Ω—å –Ω–∞–≥–ª—è–¥–Ω–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö –∫–æ–¥–∞ –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∏–∫–æ–Ω–∫–∏ –ø–∞–ø–∫–∏ –æ—Ç—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è –æ—Ç –∏—Ö –Ω–∞–∑–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä VSCode + Material Icon Theme)

`üìÅstores` ‚Äì —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –ø–æ –≤—Å–µ–º—É –ø—Ä–æ–µ–∫—Ç—É –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.


## –†–æ—É—Ç–µ—Ä —á–µ—Ä–µ–∑ Page.js

https://visionmedia.github.io/page.js/

–î–æ–±–∞–≤–ª—è–µ–º –º–æ–¥—É–ª—å –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç:

```bash
npm i page
```

–°–Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç–∞–µ–º —Å `main.js`. –ü–æ–¥–∫–ª—é—á–∞–µ–º –∑–¥–µ—Å—å **page**:

```js
// main.js
import page from 'page'
```

–ê —Ç–∞–∫–∂–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ —Å—á–∏—Ç–∞—é—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏:

```js
import MyPage from './pages/MyPage.svelte'
```

–î–æ–±–∞–≤–ª—è–µ–º —Ä–æ—É—Ç—ã:

```js
page('/my-page', ctx => {
  app.$set({ ctx, page: MyPage })
})
```

–ò –Ω–µ –∑–∞–±—ã—Ç—å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å **Page.js** –ø–æ—Å–ª–µ –≤–∞—à–∏—Ö —Ä–æ—É—Ç–æ–≤:

```js
page.start()
```

–õ–∏—á–Ω–æ —è –≤—ã–Ω–µ—Å —Ä–æ—É—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É –∏ —Ñ–∞–π–ª. –ú–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–æ–¥–µ –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞–Ω–æ, —Ç–∞–º –ø—Ä–æ—Å—Ç–æ.

–í—ã–≤–æ–¥–∏—Ç—å –≤ —à–∞–±–ª–æ–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ –∏–∑–º–µ–Ω–∏—é –∞–¥—Ä–µ—Å–∞ –Ω–∞–º –ø–æ–º–æ–∂–µ—Ç `<svelte:component>`. –ï—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–∏–≤–µ `this` —ç—Ç–æ–≥–æ —Ç–µ–≥–∞ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –æ–Ω –±—É–¥–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω. –ï—Å–ª–∏ –ø–æ—Ç–æ–º –ø–µ—Ä–µ–¥–∞—Ç—å –¥—Ä—É–≥–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–º–µ–Ω–∏—Ç—Å—è –Ω–æ–≤—ã–º.

–í `App.svelte` –¥–æ–±–∞–≤–∏–º:

```html
<!-- App.svelte -->
<script>
  export let page = null
  export let ctx = null
</script>

{#await page}
  <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
{:then component}
  <svelte:component this = {component} page = {ctx} />
{/await}
```

–ß—Ç–æ —Ç—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç? –ú—ã –ø–æ–¥—Å–æ–µ–¥–µ–Ω—è–µ–º—Å—è –∫ `page` –∏ `ctx` –æ–±—ä—è–≤–ª–µ–Ω—ã–º —Ä–∞–Ω–µ–µ –≤ `main.js`.

```js
export let page = null
export let ctx = null
```

–ü—Ä–∏ —Å–º–µ–Ω–µ –∞–¥—Ä–µ—Å–∞ **Page.js** –≤ `page` –ø–æ–ø–∞–¥–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º —Ä–æ—É—Ç–µ, –∞ –≤ `ctx` —Ä–∞–∑–ª–∏—á–Ω–∞—è –ø–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç —Å–∞–º–æ–≥–æ **Page.js**.

–û–∂–∏–¥–∞–µ–º –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `page` –ø–æ–ª—É—á–∏—Ç –¥–∞–Ω–Ω—ã–µ:

```
{#await page}
  <p>Loading...</p>
```

–î–∞–Ω–Ω—ã–µ –ø—Ä–∏—à–ª–∏, –æ–±–æ–∑–≤–∞–ª–∏ –∏—Ö `component` (–Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–∞–∑–≤–∞—Ç—å –º–æ–∂–Ω–æ –∫–∞–∫ —É–≥–æ–¥–Ω–æ):

```
{:then component}
```
–ò –∫–∞–∫ –≤—ã—à–µ –≥–æ–≤–æ—Ä–∏–ª–∏, –µ—Å–ª–∏ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –¥–µ—Ä–∏–∫—Ç–∏–≤–µ ```this``` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –æ–Ω –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω:

```html
<svelte:component this = {component} page = {ctx} />
```

–ù–µ –∑–∞–±—ã–≤–∞–µ–º –∑–∞–∫—Ä—ã—Ç—å `{/await}`.

–í `<svelte:component>` –º—ã —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–ª–∏ –µ—â—ë –æ–¥–Ω—É –¥–µ—Ä–∏–∫—Ç–∏–≤—É `page`*, —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–æ–¥–∫–ª—é—á–∞–µ–º–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –ú—ã –ø–µ—Ä–µ–¥–∞—ë–º —Ç—É–¥–∞ `ctx` –∏–∑ **Page.js**. –≠—Ç–æ –ø—Ä–∏–≥–æ–¥—è—Ç—Å—è –≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∞–¥—Ä–µ—Å–∞—Ö.

–ö –ø—Ä–∏–º–µ—Ä—É, –µ—Å–ª–∏ –≤ —Ä–æ—É—Ç–µ—Ä –¥–æ–±–∞–≤–∏—Ç—å –∞–¥—Ä–µ—Å `/posts/:id`, —Ç–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –º—ã —Å–º–æ–∂–µ–º –∏–∑–≤–ª–µ—á—å —ç—Ç–æ—Ç `id`

```html
<!-- –ö–∞–∫–æ–π-—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å -->
<script>
  export let page
  const { id } = page.params
</script>
```

–ï—Å–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É `/posts/5`, —Ç–æ `id` –±—É–¥–µ—Ç —Ä–∞–≤–Ω–æ `'5'`.

<small>* ‚Äì –≤–æ–∑–º–æ–∂–Ω–æ –≤–∞—Å –∑–∞–ø—É—Ç–∞–ª–∏ —Å—Ç–æ–ª—å–∫–æ —Å—É—â–Ω–æ—Å—Ç–µ–π —Å –∏–º–µ–Ω–µ–º `page`, –º–æ–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –∏–Ω—ã–µ –∏–º–µ–Ω–∞.</small>

### –ö–Ω–æ–ø–∫–∞ "<- –Ω–∞–∑–∞–¥"

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–∞—Ä—Ç–Ω—ã–π –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ **History API**

https://developer.mozilla.org/ru/docs/Web/API/History_API

–ù–∞–ø—Ä–∏–º–µ—Ä –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥: 

```html
<script>
  const back = () => window.history.back()
</script>

<button on:click={back}>–ù–∞–∑–∞–¥</button>
```

### –ü—Ä–æ–≥—Ä–∞–º–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞

–ú–æ–∂–µ—Ç –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞—Ö. –ù–∞–ø—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞—Ç—å –Ω–∞ `/login` –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

–û–ø—è—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ **JS**:

```js
window.location = '/login'
```

–Ø –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö –ø—Ä–æ–≤–µ—Ä—è—é –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ `user.js`*.


<small>* ‚Äì –≠—Ç–æ—Ç —Ñ–∞–π–ª –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —á–µ—Ä–Ω–æ–≤–∏–∫–µ, —è –µ–≥–æ –æ—Å—Ç–∞–≤–∏–ª –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞. –°–º. –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Ñ–∞–π–ª–µ.</small>


## –ó–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—é –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –Ω—É–∂–Ω—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ c —Å–µ—Ä–≤–µ—Ä–∞ –∏ —á—Ç–æ–±—ã –Ω–µ –∑–∞–≥—Ä–∞–º–æ–∂–Ω–∞—Ç—å –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –º–µ—Ç–æ–¥–∞–º–∏ **Fetch API**, –≤—Å—ë –≤—ã–Ω–µ—Å–µ–Ω–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –Ω—É–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

```
/src/modules/request.js
```

–í–æ—Ç —Ç–∞–∫ –≤–∏–≥–ª—è–¥–∏—Ç **GET** –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ **Fetch API**. –§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º **router**, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫—É –≤ –∫–∞–∫—É—é –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É –æ–±—Ä–∞—â–∞—Ç—å—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä `'/posts'`):

```js
// request.js
const apiUrl = 'https://jsonplaceholder.typicode.com'

const get = async (router) => {
  console.log(`GET /${router}`)
  const url = `${apiUrl}/${router}`
  const method = 'GET'
  const headers = {
    'Content-Type': 'application/json',
  }
  const response = await fetch(url, { method, headers })
  const json = await response.json()
  return json
}

export default {
  get
}
```

–í —á–µ—Ä–Ω–æ–≤–∏–∫–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω **JSONPlaceholder** ‚Äì —ç—Ç–æ fake REST API —Å —Ñ–µ–π–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∞ –∏–ª–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ, –±–µ–∑ –æ–≥–ª—è–¥–∫–∏ –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ.

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å **POST**, **PUT**...

–ù–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ö–æ—Ä–æ—à–æ –±—ã –≤–∏–¥–µ—Ç—å —Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–µ–ª–∞–µ—Ç—Å—è. –ù–∞–ø—Ä–∏–º–µ—Ä –º–æ–∂–Ω–æ —Å–ª—É—á–∞–π–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É –≤ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–±–æ—Ä–æ–º —Ç—ã—Å—è—á–∏ —Ä–∞–∑. –ü–æ—Ç–æ–º –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —ç—Ç–æ —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–∫–æ–º–µ–Ω—Ç–∏—Ç—å:

```js
console.log(`GET /${router}`)
```

–¢–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º—ã –º–æ–∂–µ–º —Ç–∞–∫:
```html
<!-- Posts.svelte -->
<script>
  import { onMount } from 'svelte'
  import request from './request'

  let posts = []

  onMount(async () => {
    posts = await request.get('posts')
  })
</script>
```
–¢–∞–∫–æ–π —Å–ø–æ—Å–æ–± —É–º–µ—Å—Ç–µ–Ω, –µ—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –ï—Å–ª–∏ –æ–¥–Ω–∏ –∏ —Ç–µ–∂–µ –¥–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, —É–¥–æ–±–Ω–µ–µ –∑–∞–≤–µ—Å—Ç–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

## –•—Ä–∞–Ω–∏–ª–∏—â–∞ (Stores)

–î–ª—è —Ö—Ä–∞–Ω–∏–ª–∏—â—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ Svelte –∏–∑ –∫–æ—Ä–æ–±–∫–∏ (svelte/store).

https://ru.svelte.dev/docs#svelte_store

–ú–æ–¥—É–ª–∏ —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `/stores`

```
/src/stores/
```
–ü—Ä–∏–º–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å—Ç–∞–º–∏:

```js
// posts.js
import { writable } from 'svelte/store'
import request from '../helpers/request'

const posts = writable([])

const getPosts = async () => {
  const json = await request.get('posts')
  posts.set(json)
}

export {
  posts,
  getPosts
}
```

–°–æ–∑–¥–∞—ë—Ç—Å—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥—É `writable()` –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `posts`. –ï—Å–ª–∏ –±—ã —Ö—Ä–∞–Ω–∏–ª–∏ —á–∏—Å–ª–∞, –º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å `0`, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫—É ‚Äì `''`, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç ‚Äì –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ ‚Äì –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∏ —Ç.–¥. –£ –º–µ–Ω—è –º–∞—Å—Å–∏–≤:
```js
const posts = writable([])
```

–ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –æ—à–∏–±–æ–∫. –ù–∞–ø—Ä–∏–º–µ—Ä `$posts.length`* –≤–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫—É, –∞ –Ω–µ –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞, –µ—Å–ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–µ —É—Å–ø–µ–µ—Ç –Ω–∞–ø–æ–ª–Ω–∏—Ç—å—Å—è.

<small>* ‚Äì –ø—Ä–æ —Å–∏–º–≤–æ–ª `$` —Å–º. –¥–∞–ª–µ–µ.</small>

–°–æ–∑–¥–∞—ë—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –ü–æ –≤—ã–∑–æ–≤—É —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–≤–µ—Ä—à–∞–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–æ–± —ç—Ç–æ–º —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª –≤—ã—à–µ) –∏ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `set()` –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç—Å—è —Ö—Ä–∞–Ω–∏–ª–∏—â—É:

```js
const getPosts = async () => {
  const json = await request.get('posts')
  posts.set(json)
}
```

–ü–æ —Ö–æ—Ä–æ—à–µ–º—É –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –æ—à–∏–±–æ–∫ –∏ —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

–ù—É –∞ —Ç–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ö—Ä–∞–Ω–∏–ª–∏—â—É –≤ –Ω—É–∂–Ω–æ–º –Ω–∞–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ. –ü—Ä–æ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. –¢–∞–∫–∂–µ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º `getPosts()` —á—Ç–æ–±—ã –æ–Ω–æ –Ω–∞–ø–æ–ª–Ω–∏–ª–æ—Å—å. 

–¢–∞–∫ –∫–∞–∫ —É –Ω–∞—Å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `posts` –Ω–µ —Å–æ–≤—Å–µ–º –¥–∞–Ω–Ω—ã–µ, –Ω–∞–º –Ω—É–∂–Ω–æ –∫–∞–∫-—Ç–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –Ω–∏—Ö, –≤ **Svelte** –¥–ª—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–¥ –∏–º–µ–Ω–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ—Ñ–∏–∫—Å `$` (–≤ –∫–æ–º–ø–∞–Ω–µ–Ω—Ç–∞—Ö `.svelte` —Å–∏–º–≤–æ–ª `$` –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω, –Ω–µ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –µ–≥–æ –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö):

```html
<!-- Posts.svelte -->
<script>
  import { posts, getPosts } from '../stores/posts'

  getPosts()
</script>

<ul>
{#each $posts as { title }, i}
  <li>
    –ü–æ—Å—Ç ‚Ññ{i+1}. –ó–∞–≥–æ–ª–æ–≤–æ–∫: "{title}"
  </li>
{/each}
</ul>
```

```html
{#each $posts as { title }, i}
...
{/each}
```

–¢–∞–∫ –∫–∞–∫ —É –Ω–∞—Å –º–∞—Å—Å–∏–≤, –º—ã –µ–≥–æ –ø–µ—Ä–µ–±–µ—Ä–∞–µ–º. –í—Å—ë —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `{#each}{/each}` –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑, —Å–∫–æ–ª—å–∫–æ –¥–ª–∏–Ω–∞ —É –º–∞—Å—Å–∏–≤–∞ (–µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π).

```html
{#each $posts as { title }, i}
```

`$posts` –Ω–∞—à –º–∞—Å—Å–∏–≤ —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—É—á–µ–Ω—ã–π –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –≠–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –æ–±—ä–µ–∫—Ç—ã. –ú—ã –º–æ–∂–µ–º —Å—Ä–∞–∑—É –∏–∑–≤–ª–µ–∫–∞—Ç—å –∏–∑ –Ω–∏—Ö –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω—É–∂–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞, –≤ –¥–∞–Ω–Ω–æ–π —Å–ª—É—á–∞–∏ `title`. `i` ‚Äì —ç—Ç–æ –Ω–æ–º–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞—Å—Å–∏–≤–∞.

`$posts` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –≤ —à–∞–±–ª–æ–Ω–µ, –Ω–æ –∏ –≤–Ω—É—Ç—Ä–∏ `<script></script>`.

## .env (environment variables)

–ï—Å—Ç—å –æ–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, –µ—Å–ª–∏ –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∫–ª–∏–µ–Ω—Ç–∞ –≤—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º –±—ç–∫–µ–Ω–¥–æ–º, —Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –≤—ã –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ –≤ —Ñ–∞–π–ª–∞—Ö url-—ã —Ç–∏–ø–∞ `http://localhost:3000/api` –∏–ª–∏ `http://127.0.0.1:3000/api`. –ù–æ –Ω–µ –º–µ–Ω—è—Ç—å –∂–µ —ç—Ç–∏ –ø—É—Ç–∏ –≤—Ä—É—á–Ω—É—é –∫–æ–≥–¥–∞ —Ä–µ—à–∏–º –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

–ü–æ–º–æ–≥—É—Ç `Dotenv` –∏ `@rollup/plugin-replace`.

```bash
npm i dotenv --save-dev
npm i @rollup/plugin-replace --save-dev
```

–°–æ–∑–¥–∞–¥–∏–º –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–∞—Ä—É —Ñ–∞–π–ª–æ–≤: `.env.development` –∏ `.env.production`. –•–æ—Ä–æ—à–∏–º —Ç–æ–Ω–æ–º –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∏—Ö –≤ `.gitignore`.

–í `.env.development` –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–Ω–µ—Å–∏ —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞ –≤ API, —á—Ç–æ–±—ã –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –µ—ë –≤ –∫–æ–¥–µ:

```
API=https://jsonplaceholder.typicode.com
```

–°–æ–∑–¥–∞–¥–∏–º `dotenv.js`:

```js
// dotenv.js
import dotenv from 'dotenv'

const production = !process.env.ROLLUP_WATCH

if (production) dotenv.config({ path: '.env.production' })
else dotenv.config({ path: '.env.development' })

const __API__ = process.env.API

export {
  __API__
}
```

–í –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `production` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `false` –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –≤ `dev` –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏ `true` –ø—Ä–∏ —Å–±–æ—Ä–∫–µ `build`. 

**Dotenv** –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–µ **Node.js** –∏–∑ —Ñ–∞–π–ª–∞ `.env`, –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –ø–æ —Å—Ö–µ–º–µ `–ö–õ–Æ–ß=–∑–Ω–∞—á–µ–Ω–∏–µ`. –û—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —á–µ—Ä–µ–∑ `process.env.–ö–õ–Æ–ß`.


–î–∞–ª–µ–µ —Ä–∞–±–æ—Ç–∞–µ–º —Å `rollup.config.js`. –¢—É—Ç –∑–∞–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å–±–æ—Ä—â–∏–∫–∞ **Rollup**.

–†–∞–Ω–µ–µ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –ø–ª–∞–≥–∏–Ω `@rollup/plugin-replace` –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∑–∞–º–µ–Ω—è—Ç—å —Å—Ç—Ä–æ–∫–∏ –≤ —Å–æ–±–∏—Ä–∞–µ–º–æ–º –ø—Ä–æ–µ–∫—Ç–µ. –ü–æ–¥–∫–ª—é—á–∞–µ–º –ø–ª–∞–≥–∏–Ω `replace` –∏ –º–æ–¥—É–ª—å `dotenv.js`, –∏–∑–≤–ª–µ–∫–∞—è –Ω—É–∂–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `__API__`. –ü–µ—Ä–µ–¥–∞—ë–º —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–ª–∞–≥–∏–Ω–∞ `replace`.

```js
// rollup.config.js
...
import replace from '@rollup/plugin-replace'
import { __API__ } from './dotenv'

export default {
  ...
  plugins: [
    ...
    replace({
      __API__
    }),
    ...
  ],
  ...
}
```

–ï—Å–ª–∏ –≤ –∫–∞–∫–æ–º-–Ω–∏–±—É–¥—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –∏–ª–∏ –º–æ–¥—É–ª–µ –º—ã –¥–æ–±–∞–≤–∏–º —Ç–∞–∫—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: 

```js
const API = '__API__'
```

–ü—Ä–∏ —Å–±–æ—Ä–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –ª—é–±–∞—è —Å—Ç—Ä–æ–∫–∞ `'__API__'` –∑–∞–º–µ–Ω–∏—Ç—Å—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–µ–∫—É—â–µ–º—É –æ–∫—Ä—É–∂–µ–Ω–∏—é `.env` —Ñ–∞–π–ª–∞. –ö–∞–∫ —Ä–∞–∑ —ç—Ç–∏–º –æ–±—É—Å–ª–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ, —á—Ç–æ–±—ã —Å–ª—É—á–∞–π–Ω–æ –Ω–µ –∑–∞–º–µ–Ω–∏—Ç—å —Ç–æ —á–µ–≥–æ –Ω–µ –Ω–∞–¥–æ.

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–º–µ–ª–æ –¥–µ–ª–∞—Ç—å —Ç–∞–∫: 

```js
const API = '__API__'
const response = await fetch(`${API}/posts`)
const json = await response.json()
```

–ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —à–∞–±–ª–æ–Ω–∞—Ö –¥–ª—è —Å—Å—ã–ª–æ–∫ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –±—ç–∫–µ–Ω–¥–∞:

```html
<!-- Svelte –∫–æ–º–ø–æ–Ω–µ–Ω—Ç -->
<script>
  const API = '__API__'
</script>

<img src="{API}/{file.path}" alt="{file.name}">
```
